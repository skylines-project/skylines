<div class="panel panel-default" ...attributes>
  <div class="panel-body">
    <form {{action "submit" on="submit"}}>
      {{#if error}}
        <BsAlert @type="danger" @dismissible={{false}}>
          {{#if messageKey}}{{t messageKey error=error}}{{else}}{{error}}{{/if}}
        </BsAlert>
      {{else if messageKey}}
        <BsAlert @type="success" @dismissible={{false}}>{{t messageKey}}</BsAlert>
      {{/if}}
  
      <ValidatedInput
        @type="password"
        @value={{currentPassword}}
        @validation={{validations.attrs.currentPassword}}
        @label={{t "current-password"}} @autocomplete="current-password"
        @disabled={{saveTask.isRunning}}
        @didValidate={{didValidate}} />
  
      <ValidatedInput
        @type="password"
        @value={{password}}
        @validation={{validations.attrs.password}}
        @label={{t "password"}} @autocomplete="new-password"
        @disabled={{saveTask.isRunning}}
        @didValidate={{didValidate}} />
  
      <ValidatedInput
        @type="password"
        @value={{passwordConfirmation}}
        @validation={{validations.attrs.passwordConfirmation}}
        @label={{t "confirm-password"}} @autocomplete="new-password"
        @disabled={{saveTask.isRunning}}
        @didValidate={{didValidate}} />
  
      <button class="btn btn-primary btn-block" type="submit" disabled={{or saveTask.isRunning (not validations.isValid)}}>
        {{t (if saveTask.isRunning "changing-password" "change-password")}}
      </button>
    </form>
  </div>
</div>